import{H as N,N as oe,C as se,S as g,t as ue,u as $,o as Q,c as de,l as p,d as fe,p as ve,T as pe}from"./use-outside-click.2d4f8df8.js";import{d as j,r as b,Z as k,c as L,Y as w,$ as G,_ as A,y as me,R as x,l as ce,N as D}from"./entry.208f3c12.js";var he=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(he||{});let je=j({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{let{features:r,...i}=e,a={"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return N({ourProps:a,theirProps:i,slot:{},attrs:n,slots:t,name:"Hidden"})}}});function ge(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function be(){return/Android/gi.test(window.navigator.userAgent)}function De(){return ge()||be()}function M(){let e=[],t={addEventListener(n,r,i,a){return n.addEventListener(r,i,a),t.add(()=>n.removeEventListener(r,i,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},style(n,r,i){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=M();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function ye(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function O(e,...t){e&&t.length>0&&e.classList.add(...t)}function F(e,...t){e&&t.length>0&&e.classList.remove(...t)}var P=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(P||{});function we(e,t){let n=M();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[a,l]=[r,i].map(o=>{let[s=0]=o.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return s});return a!==0?n.setTimeout(()=>t("finished"),a+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function X(e,t,n,r,i,a){let l=M(),o=a!==void 0?ye(a):()=>{};return F(e,...i),O(e,...t,...n),l.nextFrame(()=>{F(e,...n),O(e,...r),l.add(we(e,s=>(F(e,...r,...t),O(e,...i),o(s))))}),l.add(()=>F(e,...t,...n,...r,...i)),l.add(()=>o("cancelled")),l.dispose}function h(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let R=Symbol("TransitionContext");var Se=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Se||{});function Ee(){return D(R,null)!==null}function Te(){let e=D(R,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Fe(){let e=D(U,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let U=Symbol("NestingContext");function C(e){return"children"in e?C(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function J(e){let t=b([]),n=b(!1);w(()=>n.value=!0),G(()=>n.value=!1);function r(a,l=g.Hidden){let o=t.value.findIndex(({id:s})=>s===a);o!==-1&&($(l,{[g.Unmount](){t.value.splice(o,1)},[g.Hidden](){t.value[o].state="hidden"}}),!C(t)&&n.value&&(e==null||e()))}function i(a){let l=t.value.find(({id:o})=>o===a);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:a,state:"visible"}),()=>r(a,g.Unmount)}return{children:t,register:i,unregister:r}}let K=oe.RenderStrategy,Le=j({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:i}){let a=b(0);function l(){a.value|=p.Opening,t("beforeEnter")}function o(){a.value&=~p.Opening,t("afterEnter")}function s(){a.value|=p.Closing,t("beforeLeave")}function u(){a.value&=~p.Closing,t("afterLeave")}if(!Ee()&&se())return()=>k(Ce,{...e,onBeforeEnter:l,onAfterEnter:o,onBeforeLeave:s,onAfterLeave:u},r);let d=b(null),S=L(()=>e.unmount?g.Unmount:g.Hidden);i({el:d,$el:d});let{show:m,appear:q}=Te(),{register:V,unregister:B}=Fe(),f=b(m.value?"visible":"hidden"),I={value:!0},y=ue(),E={value:!1},W=J(()=>{!E.value&&f.value!=="hidden"&&(f.value="hidden",B(y),u())});w(()=>{let v=V(y);G(v)}),A(()=>{if(S.value===g.Hidden&&y){if(m.value&&f.value!=="visible"){f.value="visible";return}$(f.value,{hidden:()=>B(y),visible:()=>V(y)})}});let Y=h(e.enter),Z=h(e.enterFrom),ee=h(e.enterTo),_=h(e.entered),te=h(e.leave),ne=h(e.leaveFrom),re=h(e.leaveTo);w(()=>{A(()=>{if(f.value==="visible"){let v=Q(d);if(v instanceof Comment&&v.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ae(v){let H=I.value&&!q.value,c=Q(d);!c||!(c instanceof HTMLElement)||H||(E.value=!0,m.value&&l(),m.value||s(),v(m.value?X(c,Y,Z,ee,_,T=>{E.value=!1,T===P.Finished&&o()}):X(c,te,ne,re,_,T=>{E.value=!1,T===P.Finished&&(C(W)||(f.value="hidden",B(y),u()))})))}return w(()=>{me([m],(v,H,c)=>{ae(c),I.value=!1},{immediate:!0})}),x(U,W),de(L(()=>$(f.value,{visible:p.Open,hidden:p.Closed})|a.value)),()=>{let{appear:v,show:H,enter:c,enterFrom:T,enterTo:Be,entered:He,leave:Oe,leaveFrom:$e,leaveTo:xe,...z}=e,ie={ref:d},le={...z,...q.value&&m.value&&fe.isServer?{class:ce([n.class,z.class,...Y,...Z])}:{}};return N({theirProps:le,ourProps:ie,slot:{},slots:r,attrs:n,features:K,visible:f.value==="visible",name:"TransitionChild"})}}}),Ae=Le,Ce=j({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let i=ve(),a=L(()=>e.show===null&&i!==null?(i.value&p.Open)===p.Open:e.show);A(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=b(a.value?"visible":"hidden"),o=J(()=>{l.value="hidden"}),s=b(!0),u={show:a,appear:L(()=>e.appear||!s.value)};return w(()=>{A(()=>{s.value=!1,a.value?l.value="visible":C(o)||(l.value="hidden")})}),x(U,o),x(R,u),()=>{let d=pe(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),S={unmount:e.unmount};return N({ourProps:{...S,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[k(Ae,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...S,...d},r.default)]},attrs:{},features:K,visible:l.value==="visible",name:"Transition"})}}});export{Ce as S,he as a,je as f,Le as h,De as n,M as r,ge as t};
