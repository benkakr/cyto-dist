import{_ as ne}from"./BaseHeading.vue.3de0d3e4.js";import{_ as me}from"./BaseParagraph.vue.975bc4b5.js";import K from"./Icon.3da843a1.js";import{_ as re}from"./BasePlaceload.36e028a3.js";import{_ as de}from"./BaseAvatar.vue.4ad84cf4.js";import{_ as fe}from"./BaseIconBox.vue.a491c50e.js";import{_ as he}from"./BaseText.vue.d1a8e59b.js";import{L as Z,c as I,e as t,M as se,d as X,u as ce,N as _e,o as a,a as c,f as $,w as u,b as o,l as b,h as g,i as d,A as ve,O as xe,P as ae,r as M,Q as ye,R as be,S as ge,y as ue,q as L,n as N,U as H,j as B,t as w,F as U,v as O,x as ie,I as ke,V as we,J as $e,W as Be}from"./entry.3ca38a09.js";import{_ as Ie}from"./nuxt-link.c9e0679d.js";import{u as Ae}from"./index.c75d904c.js";import{H as le,$ as Ve,U as Ce,_ as je,N as qe}from"./combobox.dc6390e3.js";import{S as ze}from"./transition.0ec26d4d.js";import{_ as Fe}from"./BaseCard.vue.71987941.js";import{u as Le}from"./fetch.9ccd585e.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./use-outside-click.d1bf0a3b.js";import"./use-tracked-pointer.5ffa1ec3.js";import"./use-tree-walker.fc2bf41c.js";import"./hidden.f8d40439.js";import"./use-controllable.64bcbd12.js";function oe(k,l,v){const e=Z(k),C=Z(v),A=Z(l);return I(()=>{const i=t(e),r=t(A);if(!i)return"";if(!r)return se(i);const _=new RegExp(r,"gi");return i.replace(_,s=>`<mark class="${C.value}">${se(s)}</mark>`)})}const Ne=["innerHTML"],He=["innerHTML"],pe=X({__name:"BaseAutocompleteItem",props:{value:{default:()=>({})},shape:{default:void 0},selectedIcon:{default:"lucide:check"},active:{type:Boolean},selected:{type:Boolean},mark:{default:"nui-mark"}},setup(k){const l=k,v=ce(),e=I(()=>{var s;return l.shape??((s=v.nui.defaultShapes)==null?void 0:s.autocompleteItem)}),C=_e("BaseAutocompleteContext",{query:""}),A=I(()=>C.query),i=I(()=>l.mark),r=oe(()=>{var s;return(s=l.value)==null?void 0:s.name},A,i),_=oe(()=>{var s;return(s=l.value)==null?void 0:s.text},A,i);return(s,P)=>{const f=de,j=K,q=fe,x=ne,V=he;return a(),c("div",{class:b(["flex cursor-pointer items-center p-2 transition-colors duration-300",[l.active?"bg-muted-100 dark:bg-muted-700":"",t(e)==="rounded"&&"rounded-md",t(e)==="curved"&&"rounded-lg",t(e)==="full"&&"rounded-xl"]])},[l.value.media&&!l.value.icon?(a(),$(f,{key:0,src:l.value.media,size:"xs",class:"me-3"},null,8,["src"])):l.value.icon&&!l.value.media?(a(),$(q,{key:1,size:"sm",shape:"rounded",class:"me-1"},{default:u(()=>[o(j,{name:l.value.icon,class:b(["h-4 w-4",[l.selected?"text-primary-500":"text-muted-500"]])},null,8,["name","class"])]),_:1})):g("",!0),d("div",null,[o(x,{as:"h4",weight:l.selected?"semibold":"normal",size:"sm",class:"text-muted-800 dark:text-white"},{default:u(()=>[d("span",{innerHTML:t(r)},null,8,Ne)]),_:1},8,["weight"]),s.value.text?(a(),$(V,{key:0,size:"xs",class:"text-muted-400"},{default:u(()=>[d("span",{innerHTML:t(_)},null,8,He)]),_:1})):g("",!0)]),ve(d("div",{class:b(["ms-auto flex items-center justify-center",[l.value.media&&"h-8 w-8",l.value.icon&&"h-8 w-8"]])},[o(j,{name:s.selectedIcon,class:"text-success-500 block h-4 w-4"},null,8,["name"])],2),[[xe,l.selected]])],2)}}}),Se={key:1,class:"block"},Pe={key:0,class:"my-2 flex flex-wrap gap-1"},Re=["onClick"],Te={class:"group/autocomplete relative"},De={key:2,class:"inline-block font-sans text-[.8rem] text-pink-600"},Me={key:0,class:"relative px-4 py-2"},Ue={class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},Ee={key:1,class:"relative px-4 py-2"},Ye={class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},Ge={key:0,class:"relative px-2 py-1"},Je={key:1,class:"relative px-2 py-1"},Oe=X({__name:"BaseAutocomplete",props:{modelValue:{},items:{default:()=>[]},shape:{default:void 0},label:{default:""},labelFloat:{type:Boolean},icon:{default:void 0},i18n:{default:()=>({pending:"Loading ...",empty:"Nothing found."})},placeholder:{default:""},error:{default:""},condensed:{type:Boolean},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},clearValue:{default:void 0},clearIcon:{default:"lucide:x"},chipClearIcon:{default:"lucide:x"},multiple:{type:Boolean,default:!1},displayValue:{type:Function,default:k=>k},filterDebounce:{default:0},filterItems:{type:Function,default:(k,l)=>!k||!l?l??[]:l.filter(v=>typeof v!="string"?!1:v==null?void 0:v.toLowerCase().includes(k.toLowerCase()))},classes:{default:()=>({})}},emits:["update:modelValue"],setup(k,{expose:l,emit:v}){const e=k,C=v,A=ce(),i=I(()=>{var n;return e.shape??((n=A.nui.defaultShapes)==null?void 0:n.input)}),r=Ae(e,"modelValue",C),_=ae(e.items),s=M(""),P=ye(s,e.filterDebounce),f=ae([]),j=M(!1),q=I(()=>s.value!==P.value),x=I(()=>j.value||q.value);be("BaseAutocompleteContext",ge({selected:r,items:_,filteredItems:f,query:s,pending:x,clear:V,removeItem:z})),l({selected:r,filteredItems:f,query:s,pending:x,clear:V,removeItem:z}),ue(P,async n=>{j.value=!0;try{f.value=await e.filterItems(n,_.value)}catch(p){if((p==null?void 0:p.name)==="AbortError")return;throw p}finally{j.value=!1}});function V(){r.value=e.clearValue}function z(n){for(let p=r.value.length-1;p>=0;--p)r.value[p]==n&&r.value.splice(p,1)}return(n,p)=>{var Y;const R=K,Q=re,E=pe;return a(),$(t(qe),{modelValue:t(r),"onUpdate:modelValue":p[2]||(p[2]=F=>ie(r)?r.value=F:null),multiple:e.multiple,disabled:e.disabled,class:b(["relative w-full",(Y=e.classes)==null?void 0:Y.wrapper]),as:"div"},{default:u(()=>{var F,G,T,D,m,h,J,S,ee,te;return["label"in n.$slots&&!e.labelFloat||e.label&&!e.labelFloat?(a(),$(t(le),{key:0,class:b(["nui-label",[e.condensed&&"pb-1 text-xs",!e.condensed&&"pb-1 text-[0.825rem]",...(F=e.classes)!=null&&F.label&&Array.isArray(e.classes.label)?e.classes.label:[(G=e.classes)==null?void 0:G.label]]])},{default:u(()=>[L(n.$slots,"label",N(H({query:t(s),filteredItems:t(f),pending:t(x),items:t(_)})),()=>[B(w(e.label),1)])]),_:3},8,["class"])):g("",!0),e.multiple?(a(),c("div",Se,[Array.isArray(t(r))&&t(r).length>0?(a(),c("ul",Pe,[(a(!0),c(U,null,O(t(r),y=>(a(),c("li",{key:y.id},[d("div",{class:b(["bg-muted-100 text-muted-400 dark:bg-muted-700 flex items-center py-2 pe-2 ps-3 font-sans text-xs font-medium",[t(i)==="rounded"&&"rounded-lg",t(i)==="curved"&&"rounded-xl",t(i)==="full"&&"rounded-full"]])},[B(w(e.displayValue(y))+" ",1),d("button",{type:"button",onClick:W=>z(y)},[o(R,{name:n.chipClearIcon,class:"ms-1 block h-3 w-3"},null,8,["name"])],8,Re)],2)]))),128))])):g("",!0)])):g("",!0),d("div",Te,[o(t(Ve),{class:b(["nui-focus border-muted-300 text-muted-600 placeholder:text-muted-300 focus:border-muted-300 focus:shadow-muted-300/50 dark:border-muted-700 dark:bg-muted-900/75 dark:text-muted-200 dark:placeholder:text-muted-500 dark:focus:border-muted-700 dark:focus:shadow-muted-800/50 peer w-full border bg-white font-sans leading-5 outline-transparent transition-all duration-300 focus:shadow-lg focus:ring-0 disabled:cursor-not-allowed disabled:opacity-75",[e.condensed&&"h-8 py-1 text-xs leading-4",e.condensed&&e.icon!==void 0?"pe-3 ps-7":"px-2",!e.condensed&&"h-10 py-2 text-sm leading-5",!e.condensed&&e.icon!==void 0?"pe-4 ps-9":"px-3",e.labelFloat&&"placeholder:text-transparent dark:placeholder:!text-transparent",t(i)==="rounded"&&"rounded",t(i)==="curved"&&"rounded-xl",t(i)==="full"&&"rounded-full",e.loading&&"!text-transparent placeholder:!text-transparent dark:!text-transparent dark:placeholder:!text-transparent",...(T=e.classes)!=null&&T.input&&Array.isArray(e.classes.input)?e.classes.input:[(D=e.classes)==null?void 0:D.input]]]),"display-value":e.multiple?void 0:e.displayValue,placeholder:e.placeholder,disabled:e.disabled,onChange:p[0]||(p[0]=y=>s.value=y.target.value)},null,8,["class","display-value","placeholder","disabled"]),"label"in n.$slots&&e.labelFloat||e.label&&e.labelFloat?(a(),$(t(le),{key:0,class:b(["text-primary-500 peer-focus-visible:text-primary-500 dark:peer-focus-visible:text-primary-500 pointer-events-none absolute inline-flex h-5 select-none items-center leading-none transition-all duration-300",[e.loading?"peer-placeholder-shown:!text-transparent dark:peer-placeholder-shown:!text-transparent":"peer-placeholder-shown:text-muted-300 dark:peer-placeholder-shown:text-muted-600",e.icon!==void 0&&!e.condensed&&"start-10 -ms-10 -mt-8 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-placeholder-shown:text-[0.825rem] peer-focus-visible:-ms-10 peer-focus-visible:-mt-8 peer-focus-visible:text-xs",e.icon!==void 0&&e.condensed&&"start-8 -ms-8 -mt-7 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-focus-visible:-ms-8 peer-focus-visible:-mt-7",e.icon===void 0&&!e.condensed&&"start-3 -ms-3  -mt-8 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-placeholder-shown:text-[0.825rem] peer-focus-visible:-ms-3 peer-focus-visible:-mt-8 peer-focus-visible:text-xs",e.icon===void 0&&e.condensed&&"start-3 -ms-3  -mt-7 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-focus-visible:-ms-3 peer-focus-visible:-mt-7",e.condensed?"top-1.5":"top-2.5",...(m=e.classes)!=null&&m.label&&Array.isArray(e.classes.label)?e.classes.label:[(h=e.classes)==null?void 0:h.label]]])},{default:u(()=>[L(n.$slots,"label",N(H({query:t(s),filteredItems:t(f),pending:t(x),items:t(_)})),()=>[B(w(e.label),1)])]),_:3},8,["class"])):g("",!0),e.icon||(J=t(r))!=null&&J.icon?(a(),c("div",{key:1,class:b(["text-muted-400 group-focus-within/autocomplete:text-primary-500 absolute start-0 top-0 flex items-center justify-center transition-colors duration-300",[e.condensed&&"h-8 w-8",!e.condensed&&"h-10 w-10"]])},[o(R,{name:((S=t(r))==null?void 0:S.icon)??e.icon,class:"h-4 w-4"},null,8,["name"])],2)):g("",!0),e.clearable&&t(r)?(a(),c("button",{key:2,type:"button",class:b(["text-muted-400 hover:text-muted-700 dark:hover:text-muted-200 absolute end-0 top-0 z-10 flex items-center justify-center transition-colors duration-300",[e.condensed&&"h-8 w-8",!e.condensed&&"h-10 w-10",...(ee=e.classes)!=null&&ee.icon&&Array.isArray(e.classes.icon)?e.classes.icon:[(te=e.classes)==null?void 0:te.icon]]]),onClick:V},[o(R,{name:n.clearIcon,class:"h-4 w-4"},null,8,["name"])],2)):g("",!0),e.loading?(a(),c("div",{key:3,class:b(["absolute start-0 top-0 flex w-full items-center px-4",[e.condensed&&"h-8",!e.condensed&&"h-10"]])},[o(Q,{class:b(["h-3 w-full max-w-[75%] rounded",e.icon&&"ms-6"])},null,8,["class"])],2)):g("",!0)]),e.error&&typeof e.error=="string"?(a(),c("span",De,w(e.error),1)):g("",!0),o(t(ze),{leave:"transition ease-in duration-100","leave-from":"opacity-100","leave-to":"opacity-0",onAfterLeave:p[1]||(p[1]=y=>s.value="")},{default:u(()=>[o(t(Ce),{as:"div",class:b(["slimscroll border-muted-200 dark:border-muted-700 dark:bg-muted-800 absolute z-20 mt-1 max-h-[265px] w-full overflow-auto border bg-white py-1 text-base shadow-lg outline-none sm:text-sm",[t(i)==="rounded"&&"rounded-lg",t(i)==="curved"&&"rounded-xl",t(i)==="full"&&"rounded-2xl"]])},{default:u(()=>[t(f).length===0&&t(x)?(a(),c("div",Me,[L(n.$slots,"pending",N(H({query:t(s),filteredItems:t(f),pending:t(x),items:t(_)})),()=>[d("span",Ue,w(e.i18n.pending),1)])])):t(f).length===0?(a(),c("div",Ee,[L(n.$slots,"empty",N(H({query:t(s),filteredItems:t(f),pending:t(x),items:t(_)})),()=>[d("span",Ye,w(e.i18n.empty),1)])])):(a(),c(U,{key:2},["start-item"in n.$slots?(a(),c("div",Ge,[L(n.$slots,"start-item",N(H({query:t(s),filteredItems:t(f),pending:t(x),items:t(_)})))])):g("",!0),(a(!0),c(U,null,O(t(f),y=>(a(),$(t(je),{key:y.name,class:"px-2 py-1",as:"div",value:y},{default:u(({selected:W})=>[L(n.$slots,"item",N(H({query:t(s),filteredItems:t(f),pending:t(x),items:t(_),item:y,selected:W})),()=>[o(E,{shape:t(i),value:typeof y!="string"?y:{name:e.displayValue(y)},selected:W},null,8,["shape","value","selected"])])]),_:2},1032,["value"]))),128)),"end-item"in n.$slots?(a(),c("div",Je,[L(n.$slots,"end-item",N(H({query:t(s),filteredItems:t(f),pending:t(x),items:t(_)})))])):g("",!0)],64))]),_:3},8,["class"])]),_:3})]}),_:3},8,["modelValue","multiple","disabled","class"])}}}),Qe={class:"mx-auto max-w-2xl"},We={key:0},Ze={class:"bg-muted-200 dark:bg-muted-800/60 rounded-xl p-6"},Ke={key:1},Xe={class:"my-6 text-center"},et={class:"mx-auto mt-6 flex max-w-xs justify-center"},tt={key:1,class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},st={class:"grid gap-4 sm:grid-cols-2"},at={class:"mb-6 flex gap-2"},lt={class:"flex items-center justify-between"},ot={class:"flex items-center gap-2"},nt={class:"text-muted-400 flex items-center gap-4"},rt={class:"flex items-center gap-1 text-sm"},dt={class:"font-sans"},ct={class:"flex items-center gap-1 text-sm"},ut={class:"font-sans"},qt=X({__name:"index",async setup(k){let l,v;const e=ke(),C=we(),A=I(()=>parseInt(e.query.page??"1")),i=M(""),r=M(25);ue([i,r],()=>{C.push({query:{page:void 0}})});const _=I(()=>({filter:i.value,perPage:r.value,page:A.value})),{data:s,pending:P,error:f,refresh:j}=([l,v]=$e(()=>Le("/api/company/projects",{query:_},"$sZLrfrUrHo")),l=await l,v(),l),q=M("");return(x,V)=>{var T,D;const z=ne,n=me,p=K,R=re,Q=pe,E=Ie,Y=Oe,F=de,G=Fe;return a(),c("div",Qe,[!t(P)&&((T=t(s))==null?void 0:T.recent.length)===0?(a(),c("div",We,[d("div",Ze,[o(z,{tag:"h4",size:"lg",weight:"medium"},{default:u(()=>[B(" No projects ")]),_:1}),o(n,{size:"sm",class:"text-muted-400"},{default:u(()=>[B(" You've recently viewed these projects. ")]),_:1})])])):(a(),c("div",Ke,[d("div",Xe,[o(p,{name:"ph:square-half-duotone",class:"text-primary-500 mx-auto mb-2 h-10 w-10"}),o(z,{tag:"h4",size:"2xl",weight:"medium"},{default:u(()=>[B(" Your recent projects ")]),_:1}),o(n,{size:"sm",class:"text-muted-400"},{default:u(()=>[B(" Here are your recently viewed projects. ")]),_:1}),d("div",et,[o(Y,{modelValue:t(q),"onUpdate:modelValue":V[0]||(V[0]=m=>ie(q)?q.value=m:null),items:(D=t(s))==null?void 0:D.data,"display-value":m=>m.name,shape:"curved",icon:"lucide:search",placeholder:"Search...",label:"Search projects","label-float":"",clearable:""},{empty:u(({pending:m,query:h})=>[m?(a(),$(R,{key:0})):h?g("",!0):(a(),c("span",tt," Ex: Delivery app project... "))]),item:u(({item:m,selected:h})=>[o(E,{to:`/layouts/projects/details/${m.slug}`,class:"block"},{default:u(()=>[o(Q,{value:{name:m.name,text:`${m.customer.name} | ${m.customer.text}`,media:m.customer.logo},selected:h},null,8,["value","selected"])]),_:2},1032,["to"])]),_:1},8,["modelValue","items","display-value"])])]),d("div",st,[o(Be,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:u(()=>{var m;return[(a(!0),c(U,null,O((m=t(s))==null?void 0:m.recent.slice(0,4),(h,J)=>(a(),$(E,{key:J,class:"group block",to:`/layouts/projects/details/${h.slug}`},{default:u(()=>[o(G,{shape:"curved","elevated-hover":"",class:"group-hover:!border-primary-500 p-5"},{default:u(()=>[d("div",at,[o(F,{src:h.customer.logo,size:"sm",shape:"full","data-tooltip":h.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-tooltip"]),d("div",null,[o(z,{tag:"h5",size:"sm",weight:"medium",class:"line-clamp-1"},{default:u(()=>[B(w(h.name),1)]),_:2},1024),o(n,{size:"xs",class:"text-muted-400"},{default:u(()=>[B(w(h.customer.name)+" | "+w(h.customer.text),1)]),_:2},1024)])]),d("div",lt,[d("div",ot,[(a(!0),c(U,null,O(h.stacks,S=>(a(),$(F,{key:S.name,src:S.icon,size:"xxs",shape:"full","data-tooltip":S.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-tooltip"]))),128))]),d("div",nt,[d("div",rt,[o(p,{name:"ph:paperclip-duotone",class:"h-4 w-4"}),d("span",dt,w(h.files.length),1)]),d("div",ct,[o(p,{name:"ph:users-duotone",class:"h-4 w-4"}),d("span",ut,w(h.team.length),1)])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]}),_:1})])]))])}}});export{qt as default};
