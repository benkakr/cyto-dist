import{_ as oe}from"./BaseHeading.vue.80fb95aa.js";import{_ as pe}from"./BaseParagraph.vue.b3d2bc68.js";import K from"./Icon.37cd95bf.js";import{_ as ne}from"./BasePlaceload.55d8f5cb.js";import{_ as re}from"./BaseAvatar.vue.7bc9b82c.js";import{_ as me}from"./BaseIconBox.vue.6a6b54e3.js";import{_ as fe}from"./BaseText.vue.83a8f1ce.js";import{L as Z,c as A,e as t,M as te,d as X,u as de,N as he,o as s,a as d,f as B,w as c,b as l,l as g,h as k,i as r,A as _e,O as ve,P as se,r as U,Q as xe,R as ye,S as be,y as ce,q,n as z,U as F,j as I,t as $,F as E,v as J,x as ue,I as ge,V as ke,J as we,W as $e}from"./entry.f0e78823.js";import{_ as Be}from"./nuxt-link.6c331154.js";import{u as Ie}from"./index.8cfb8be5.js";import{H as ae,$ as Ae,U as Ve,_ as Ce,N as je}from"./combobox.deb073a0.js";import{S as qe}from"./transition.e2ddc61f.js";import{_ as ze}from"./BaseCard.vue.46decd7f.js";import{u as Fe}from"./fetch.753e7f99.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./use-outside-click.fb28adfb.js";import"./use-tracked-pointer.ef35251b.js";import"./use-tree-walker.d3fc51a3.js";import"./hidden.5a94d34c.js";import"./use-controllable.4e19be48.js";function le(w,a,y){const e=Z(w),C=Z(y),m=Z(a);return A(()=>{const o=t(e),f=t(m);if(!o)return"";if(!f)return te(o);const p=new RegExp(f,"gi");return o.replace(p,u=>`<mark class="${C.value}">${te(u)}</mark>`)})}const Le=["innerHTML"],Ne=["innerHTML"],ie=X({__name:"BaseAutocompleteItem",props:{value:{default:()=>({})},shape:{default:void 0},selectedIcon:{default:"lucide:check"},active:{type:Boolean},selected:{type:Boolean},mark:{default:"nui-mark"}},setup(w){const a=w,y=de(),e=A(()=>{var u;return a.shape??((u=y.nui.defaultShapes)==null?void 0:u.autocompleteItem)}),C=he("BaseAutocompleteContext",{query:""}),m=A(()=>C.query),o=A(()=>a.mark),f=le(()=>{var u;return(u=a.value)==null?void 0:u.name},m,o),p=le(()=>{var u;return(u=a.value)==null?void 0:u.text},m,o);return(u,_)=>{const L=re,P=K,v=me,N=oe,V=fe;return s(),d("div",{class:g(["flex cursor-pointer items-center p-2 transition-colors duration-300",[a.active?"bg-muted-100 dark:bg-muted-700":"",t(e)==="rounded"&&"rounded-md",t(e)==="curved"&&"rounded-lg",t(e)==="full"&&"rounded-xl"]])},[a.value.media&&!a.value.icon?(s(),B(L,{key:0,src:a.value.media,size:"xs",class:"me-3"},null,8,["src"])):a.value.icon&&!a.value.media?(s(),B(v,{key:1,size:"sm",shape:"rounded",class:"me-1"},{default:c(()=>[l(P,{name:a.value.icon,class:g(["h-4 w-4",[a.selected?"text-primary-500":"text-muted-500"]])},null,8,["name","class"])]),_:1})):k("",!0),r("div",null,[l(N,{as:"h4",weight:a.selected?"semibold":"normal",size:"sm",class:"text-muted-800 dark:text-white"},{default:c(()=>[r("span",{innerHTML:t(f)},null,8,Le)]),_:1},8,["weight"]),u.value.text?(s(),B(V,{key:0,size:"xs",class:"text-muted-400"},{default:c(()=>[r("span",{innerHTML:t(p)},null,8,Ne)]),_:1})):k("",!0)]),_e(r("div",{class:g(["ms-auto flex items-center justify-center",[a.value.media&&"h-8 w-8",a.value.icon&&"h-8 w-8"]])},[l(P,{name:u.selectedIcon,class:"text-success-500 block h-4 w-4"},null,8,["name"])],2),[[ve,a.selected]])],2)}}}),He={key:1,class:"block"},Se={key:0,class:"my-2 flex flex-wrap gap-1"},Pe=["onClick"],Re={class:"group/autocomplete relative"},Te={key:2,class:"inline-block font-sans text-[.8rem] text-pink-600"},De={key:0,class:"relative px-4 py-2"},Me={class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},Ue={key:1,class:"relative px-4 py-2"},Ee={class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},Ye={key:0,class:"relative px-2 py-1"},Ge={key:1,class:"relative px-2 py-1"},Je=X({__name:"BaseAutocomplete",props:{modelValue:{},items:{default:()=>[]},shape:{default:void 0},label:{default:""},labelFloat:{type:Boolean},icon:{default:void 0},i18n:{default:()=>({pending:"Loading ...",empty:"Nothing found."})},placeholder:{default:""},error:{default:""},condensed:{type:Boolean},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},clearValue:{default:void 0},clearIcon:{default:"lucide:x"},chipClearIcon:{default:"lucide:x"},multiple:{type:Boolean,default:!1},displayValue:{type:Function,default:w=>w},filterDebounce:{default:0},filterItems:{type:Function,default:(w,a)=>!w||!a?a??[]:a.filter(y=>typeof y!="string"?!1:y==null?void 0:y.toLowerCase().includes(w.toLowerCase()))},classes:{default:()=>({})}},emits:["update:modelValue"],setup(w,{expose:a,emit:y}){const e=w,C=de(),m=A(()=>{var n;return e.shape??((n=C.nui.defaultShapes)==null?void 0:n.input)}),o=Ie(e,"modelValue",y),f=se(e.items),p=U(""),u=xe(p,e.filterDebounce),_=se([]),L=U(!1),P=A(()=>p.value!==u.value),v=A(()=>L.value||P.value);ye("BaseAutocompleteContext",be({selected:o,items:f,filteredItems:_,query:p,pending:v,clear:N,removeItem:V})),a({selected:o,filteredItems:_,query:p,pending:v,clear:N,removeItem:V}),ce(u,async n=>{L.value=!0;try{_.value=await e.filterItems(n,f.value)}catch(i){if((i==null?void 0:i.name)==="AbortError")return;throw i}finally{L.value=!1}});function N(){o.value=e.clearValue}function V(n){for(let i=o.value.length-1;i>=0;--i)o.value[i]==n&&o.value.splice(i,1)}return(n,i)=>{var R;const j=K,O=ne,Q=ie;return s(),B(t(je),{modelValue:t(o),"onUpdate:modelValue":i[2]||(i[2]=H=>ue(o)?o.value=H:null),multiple:e.multiple,disabled:e.disabled,class:g(["relative w-full",(R=e.classes)==null?void 0:R.wrapper]),as:"div"},{default:c(()=>{var H,T,Y,D,M,h,x,G,S,ee;return["label"in n.$slots&&!e.labelFloat||e.label&&!e.labelFloat?(s(),B(t(ae),{key:0,class:g(["nui-label",[e.condensed&&"pb-1 text-xs",!e.condensed&&"pb-1 text-[0.825rem]",...(H=e.classes)!=null&&H.label&&Array.isArray(e.classes.label)?e.classes.label:[(T=e.classes)==null?void 0:T.label]]])},{default:c(()=>[q(n.$slots,"label",z(F({query:t(p),filteredItems:t(_),pending:t(v),items:t(f)})),()=>[I($(e.label),1)])]),_:3},8,["class"])):k("",!0),e.multiple?(s(),d("div",He,[Array.isArray(t(o))&&t(o).length>0?(s(),d("ul",Se,[(s(!0),d(E,null,J(t(o),b=>(s(),d("li",{key:b.id},[r("div",{class:g(["bg-muted-100 text-muted-400 dark:bg-muted-700 flex items-center py-2 pe-2 ps-3 font-sans text-xs font-medium",[t(m)==="rounded"&&"rounded-lg",t(m)==="curved"&&"rounded-xl",t(m)==="full"&&"rounded-full"]])},[I($(e.displayValue(b))+" ",1),r("button",{type:"button",onClick:W=>V(b)},[l(j,{name:n.chipClearIcon,class:"ms-1 block h-3 w-3"},null,8,["name"])],8,Pe)],2)]))),128))])):k("",!0)])):k("",!0),r("div",Re,[l(t(Ae),{class:g(["nui-focus border-muted-300 text-muted-600 placeholder:text-muted-300 focus:border-muted-300 focus:shadow-muted-300/50 dark:border-muted-700 dark:bg-muted-900/75 dark:text-muted-200 dark:placeholder:text-muted-500 dark:focus:border-muted-700 dark:focus:shadow-muted-800/50 peer w-full border bg-white font-sans leading-5 outline-transparent transition-all duration-300 focus:shadow-lg focus:ring-0 disabled:cursor-not-allowed disabled:opacity-75",[e.condensed&&"h-8 py-1 text-xs leading-4",e.condensed&&e.icon!==void 0?"pe-3 ps-7":"px-2",!e.condensed&&"h-10 py-2 text-sm leading-5",!e.condensed&&e.icon!==void 0?"pe-4 ps-9":"px-3",e.labelFloat&&"placeholder:text-transparent dark:placeholder:!text-transparent",t(m)==="rounded"&&"rounded",t(m)==="curved"&&"rounded-xl",t(m)==="full"&&"rounded-full",e.loading&&"!text-transparent placeholder:!text-transparent dark:!text-transparent dark:placeholder:!text-transparent",...(Y=e.classes)!=null&&Y.input&&Array.isArray(e.classes.input)?e.classes.input:[(D=e.classes)==null?void 0:D.input]]]),"display-value":e.multiple?void 0:e.displayValue,placeholder:e.placeholder,disabled:e.disabled,onChange:i[0]||(i[0]=b=>p.value=b.target.value)},null,8,["class","display-value","placeholder","disabled"]),"label"in n.$slots&&e.labelFloat||e.label&&e.labelFloat?(s(),B(t(ae),{key:0,class:g(["text-primary-500 peer-focus-visible:text-primary-500 dark:peer-focus-visible:text-primary-500 pointer-events-none absolute inline-flex h-5 select-none items-center leading-none transition-all duration-300",[e.loading?"peer-placeholder-shown:!text-transparent dark:peer-placeholder-shown:!text-transparent":"peer-placeholder-shown:text-muted-300 dark:peer-placeholder-shown:text-muted-600",e.icon!==void 0&&!e.condensed&&"start-10 -ms-10 -mt-8 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-placeholder-shown:text-[0.825rem] peer-focus-visible:-ms-10 peer-focus-visible:-mt-8 peer-focus-visible:text-xs",e.icon!==void 0&&e.condensed&&"start-8 -ms-8 -mt-7 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-focus-visible:-ms-8 peer-focus-visible:-mt-7",e.icon===void 0&&!e.condensed&&"start-3 -ms-3  -mt-8 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-placeholder-shown:text-[0.825rem] peer-focus-visible:-ms-3 peer-focus-visible:-mt-8 peer-focus-visible:text-xs",e.icon===void 0&&e.condensed&&"start-3 -ms-3  -mt-7 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-focus-visible:-ms-3 peer-focus-visible:-mt-7",e.condensed?"top-1.5":"top-2.5",...(M=e.classes)!=null&&M.label&&Array.isArray(e.classes.label)?e.classes.label:[(h=e.classes)==null?void 0:h.label]]])},{default:c(()=>[q(n.$slots,"label",z(F({query:t(p),filteredItems:t(_),pending:t(v),items:t(f)})),()=>[I($(e.label),1)])]),_:3},8,["class"])):k("",!0),e.icon||(x=t(o))!=null&&x.icon?(s(),d("div",{key:1,class:g(["text-muted-400 group-focus-within/autocomplete:text-primary-500 absolute start-0 top-0 flex items-center justify-center transition-colors duration-300",[e.condensed&&"h-8 w-8",!e.condensed&&"h-10 w-10"]])},[l(j,{name:((G=t(o))==null?void 0:G.icon)??e.icon,class:"h-4 w-4"},null,8,["name"])],2)):k("",!0),e.clearable&&t(o)?(s(),d("button",{key:2,type:"button",class:g(["text-muted-400 hover:text-muted-700 dark:hover:text-muted-200 absolute end-0 top-0 z-10 flex items-center justify-center transition-colors duration-300",[e.condensed&&"h-8 w-8",!e.condensed&&"h-10 w-10",...(S=e.classes)!=null&&S.icon&&Array.isArray(e.classes.icon)?e.classes.icon:[(ee=e.classes)==null?void 0:ee.icon]]]),onClick:N},[l(j,{name:n.clearIcon,class:"h-4 w-4"},null,8,["name"])],2)):k("",!0),e.loading?(s(),d("div",{key:3,class:g(["absolute start-0 top-0 flex w-full items-center px-4",[e.condensed&&"h-8",!e.condensed&&"h-10"]])},[l(O,{class:g(["h-3 w-full max-w-[75%] rounded",e.icon&&"ms-6"])},null,8,["class"])],2)):k("",!0)]),e.error&&typeof e.error=="string"?(s(),d("span",Te,$(e.error),1)):k("",!0),l(t(qe),{leave:"transition ease-in duration-100","leave-from":"opacity-100","leave-to":"opacity-0",onAfterLeave:i[1]||(i[1]=b=>p.value="")},{default:c(()=>[l(t(Ve),{as:"div",class:g(["slimscroll border-muted-200 dark:border-muted-700 dark:bg-muted-800 absolute z-20 mt-1 max-h-[265px] w-full overflow-auto border bg-white py-1 text-base shadow-lg outline-none sm:text-sm",[t(m)==="rounded"&&"rounded-lg",t(m)==="curved"&&"rounded-xl",t(m)==="full"&&"rounded-2xl"]])},{default:c(()=>[t(_).length===0&&t(v)?(s(),d("div",De,[q(n.$slots,"pending",z(F({query:t(p),filteredItems:t(_),pending:t(v),items:t(f)})),()=>[r("span",Me,$(e.i18n.pending),1)])])):t(_).length===0?(s(),d("div",Ue,[q(n.$slots,"empty",z(F({query:t(p),filteredItems:t(_),pending:t(v),items:t(f)})),()=>[r("span",Ee,$(e.i18n.empty),1)])])):(s(),d(E,{key:2},["start-item"in n.$slots?(s(),d("div",Ye,[q(n.$slots,"start-item",z(F({query:t(p),filteredItems:t(_),pending:t(v),items:t(f)})))])):k("",!0),(s(!0),d(E,null,J(t(_),b=>(s(),B(t(Ce),{key:b.name,class:"px-2 py-1",as:"div",value:b},{default:c(({selected:W})=>[q(n.$slots,"item",z(F({query:t(p),filteredItems:t(_),pending:t(v),items:t(f),item:b,selected:W})),()=>[l(Q,{shape:t(m),value:typeof b!="string"?b:{name:e.displayValue(b)},selected:W},null,8,["shape","value","selected"])])]),_:2},1032,["value"]))),128)),"end-item"in n.$slots?(s(),d("div",Ge,[q(n.$slots,"end-item",z(F({query:t(p),filteredItems:t(_),pending:t(v),items:t(f)})))])):k("",!0)],64))]),_:3},8,["class"])]),_:3})]}),_:3},8,["modelValue","multiple","disabled","class"])}}}),Oe={class:"mx-auto max-w-2xl"},Qe={key:0},We={class:"bg-muted-200 dark:bg-muted-800/60 rounded-xl p-6"},Ze={key:1},Ke={class:"my-6 text-center"},Xe={class:"mx-auto mt-6 flex max-w-xs justify-center"},et={key:1,class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},tt={class:"grid gap-4 sm:grid-cols-2"},st={class:"mb-6 flex gap-2"},at={class:"flex items-center justify-between"},lt={class:"flex items-center gap-2"},ot={class:"text-muted-400 flex items-center gap-4"},nt={class:"flex items-center gap-1 text-sm"},rt={class:"font-sans"},dt={class:"flex items-center gap-1 text-sm"},ct={class:"font-sans"},jt=X({__name:"index",async setup(w){let a,y;const e=ge(),C=ke(),m=A(()=>parseInt(e.query.page??"1")),o=U(""),f=U(25);ce([o,f],()=>{C.push({query:{page:void 0}})});const p=A(()=>({filter:o.value,perPage:f.value,page:m.value})),{data:u,pending:_,error:L,refresh:P}=([a,y]=we(()=>Fe("/api/company/projects",{query:p},"$sZLrfrUrHo")),a=await a,y(),a),v=U("");return(N,V)=>{var D,M;const n=oe,i=pe,j=K,O=ne,Q=ie,R=Be,H=Je,T=re,Y=ze;return s(),d("div",Oe,[!t(_)&&((D=t(u))==null?void 0:D.recent.length)===0?(s(),d("div",Qe,[r("div",We,[l(n,{tag:"h4",size:"lg",weight:"medium"},{default:c(()=>[I(" No projects ")]),_:1}),l(i,{size:"sm",class:"text-muted-400"},{default:c(()=>[I(" You've recently viewed these projects. ")]),_:1})])])):(s(),d("div",Ze,[r("div",Ke,[l(j,{name:"ph:square-half-duotone",class:"text-primary-500 mx-auto mb-2 h-10 w-10"}),l(n,{tag:"h4",size:"2xl",weight:"medium"},{default:c(()=>[I(" Your recent projects ")]),_:1}),l(i,{size:"sm",class:"text-muted-400"},{default:c(()=>[I(" Here are your recently viewed projects. ")]),_:1}),r("div",Xe,[l(H,{modelValue:t(v),"onUpdate:modelValue":V[0]||(V[0]=h=>ue(v)?v.value=h:null),items:(M=t(u))==null?void 0:M.data,"display-value":h=>h.name,shape:"curved",icon:"lucide:search",placeholder:"Search...",label:"Search projects","label-float":"",clearable:""},{empty:c(({pending:h,query:x})=>[h?(s(),B(O,{key:0})):x?k("",!0):(s(),d("span",et," Ex: Delivery app project... "))]),item:c(({item:h,selected:x})=>[l(R,{to:`/layouts/projects/details/${h.slug}`,class:"block"},{default:c(()=>[l(Q,{value:{name:h.name,text:`${h.customer.name} | ${h.customer.text}`,media:h.customer.logo},selected:x},null,8,["value","selected"])]),_:2},1032,["to"])]),_:1},8,["modelValue","items","display-value"])])]),r("div",tt,[l($e,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:c(()=>{var h;return[(s(!0),d(E,null,J((h=t(u))==null?void 0:h.recent.slice(0,4),(x,G)=>(s(),B(R,{key:G,class:"group block",to:`/layouts/projects/details/${x.slug}`},{default:c(()=>[l(Y,{shape:"curved","elevated-hover":"",class:"group-hover:!border-primary-500 p-5"},{default:c(()=>[r("div",st,[l(T,{src:x.customer.logo,size:"sm",shape:"full","data-tooltip":x.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-tooltip"]),r("div",null,[l(n,{tag:"h5",size:"sm",weight:"medium",class:"line-clamp-1"},{default:c(()=>[I($(x.name),1)]),_:2},1024),l(i,{size:"xs",class:"text-muted-400"},{default:c(()=>[I($(x.customer.name)+" | "+$(x.customer.text),1)]),_:2},1024)])]),r("div",at,[r("div",lt,[(s(!0),d(E,null,J(x.stacks,S=>(s(),B(T,{key:S.name,src:S.icon,size:"xxs",shape:"full","data-tooltip":S.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-tooltip"]))),128))]),r("div",ot,[r("div",nt,[l(j,{name:"ph:paperclip-duotone",class:"h-4 w-4"}),r("span",rt,$(x.files.length),1)]),r("div",dt,[l(j,{name:"ph:users-duotone",class:"h-4 w-4"}),r("span",ct,$(x.team.length),1)])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]}),_:1})])]))])}}});export{jt as default};
